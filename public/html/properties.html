<h2>Property Page</h2>

<div ng-show="!managed">
    <div>Search for property: <input type="text" ng-model="myfilter"></div>
<table class="striped responsive-table">
<tr>
    <th ng-click="newOrder('type')">Type</th>
    <th ng-click="newOrder('bedrooms')">Bedrooms</th>
    <th ng-click="newOrder('bathrooms')">Bathrooms</th>
    <th ng-click="newOrder('location')">Location</th>
    <th ng-click="newOrder('price')">Price per Month</th>
    <th ng-click="newOrder('occupants')">Occupants</th>
</tr>
<tr ng-repeat = 'items in apiData.data | orderBy:order | filter:myfilter'>
    <td>{{items.type}}</td>
    <td>{{items.bedrooms}}</td>
    <td>{{items.bathrooms}}</td>
    <td>{{items.location}}</td>
    <td>{{items.price}}</td>
    <td>{{items.occupants.length}}</td>
    <td> <a class='waves-effect waves-light btn' ui-sref='propertyDelete({id:items._id})'>Delete</a></td>
    <td> <a class='waves-effect waves-light btn' ui-sref= 'editProperty({id:items._id})'>Edit</a></td>
    <td> <a class='waves-effect waves-light btn' ng-click="getTenants(items)">Manage Tenants</a></td>
</tr>
</table>
    </div>

<div ng-show="managed">
    <div>
        <a class='waves-effect waves-light btn' ng-click="doneManaging()">Done Managing</a>
    </div>

    <div class="row">
        <div class="col s12 m6">
            <div class="card blue-grey darken-1">
                <div class="card-content white-text">
                    <span class="card-title">{{current.location}}</span>
                    <p>Type of property: {{current.type}}</p>
                    <p>Rental Rate: {{current.price}}</p>
                    <p>Bedrooms: {{current.bedrooms}}</p>
                    <p>Bathrooms: {{current.bathrooms}}</p>

                    <p>Current Occupants</p>

                    <p ng-repeat = "tenant in current.occupants" ng-dblclick="moveOutTenant(tenant)"> <a class="btn tooltipped" data-position="bottom" data-delay="50" data-tooltip="I am tooltip"> {{tenant.name}} </a>
                    </p>

                </div>

            </div>
        </div>
        <div class="col s12 m6">
            <div class="card blue-grey darken-1">
                <div class="card-content white-text">
                    <span class="card-title">Available Clients</span>
                        <p ng-repeat = "client in freeTenants" ng-dblclick="moveInTenant(client)"><a class="btn tooltipped" data-position="bottom" data-delay="50" data-tooltip="I am tooltip"> {{client.name}}</a></p>
                </div>

            </div>
        </div>
    </div>


</div>

</div>